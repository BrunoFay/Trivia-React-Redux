{"ast":null,"code":"var _jsxFileName = \"/home/bruno/Documentos/MeusProjetos/Projetos-Trybe/front-end/sd-016-b-project-trivia-react-redux/src/pages/Ranking.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { cleanState } from '../redux/actions';\nimport RankingCard from '../components/RankingCard';\nimport { loadLocalStorage } from '../localStorage';\n\nclass Ranking extends Component {\n  constructor(props) {\n    super(props);\n    this.btnHandler = this.btnHandler.bind(this);\n  }\n\n  btnHandler() {\n    const {\n      history,\n      resetState\n    } = this.props;\n    resetState();\n    history.push('/');\n  }\n\n  displayRanking() {\n    const rankingStorage = loadLocalStorage('ranking');\n    return rankingStorage.sort((a, b) => b.score - a.score).map((player, i) => /*#__PURE__*/React.createElement(RankingCard, Object.assign({\n      key: i,\n      position: i + 1\n    }, player, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 27\n      }\n    })));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"ranking\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      id: \"ranking\",\n      \"data-testid\": \"ranking-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }, \"Ranking\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"btn-go-home\",\n      onClick: this.btnHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }\n    }, \"Home\"), /*#__PURE__*/React.createElement(\"main\", {\n      id: \"main-ranking\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 8\n      }\n    }, \" \", this.displayRanking()));\n  }\n\n}\n\nRanking.propTypes = {\n  history: PropTypes.func.isRequired,\n  resetState: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = dispatch => ({\n  resetState: () => dispatch(cleanState())\n});\n\nexport default connect(null, mapDispatchToProps)(Ranking);","map":{"version":3,"sources":["/home/bruno/Documentos/MeusProjetos/Projetos-Trybe/front-end/sd-016-b-project-trivia-react-redux/src/pages/Ranking.jsx"],"names":["React","Component","PropTypes","connect","cleanState","RankingCard","loadLocalStorage","Ranking","constructor","props","btnHandler","bind","history","resetState","push","displayRanking","rankingStorage","sort","a","b","score","map","player","i","render","propTypes","func","isRequired","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,gBAAT,QAAiC,iBAAjC;;AAEA,MAAMC,OAAN,SAAsBN,SAAtB,CAAgC;AAC9BO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACD;;AAEDD,EAAAA,UAAU,GAAG;AACX,UAAM;AAAEE,MAAAA,OAAF;AAAWC,MAAAA;AAAX,QAA0B,KAAKJ,KAArC;AACAI,IAAAA,UAAU;AACVD,IAAAA,OAAO,CAACE,IAAR,CAAa,GAAb;AACD;;AAEDC,EAAAA,cAAc,GAAG;AACf,UAAMC,cAAc,GAAGV,gBAAgB,CAAC,SAAD,CAAvC;AAEA,WAAQU,cAAc,CACnBC,IADK,CACA,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACC,KAAF,GAAUF,CAAC,CAACE,KADtB,EAELC,GAFK,CAED,CAACC,MAAD,EAASC,CAAT,kBAAe,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAGA,CAAnB;AAAuB,MAAA,QAAQ,EAAEA,CAAC,GAAG;AAArC,OAA6CD,MAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFd,CAAR;AAID;;AAEDE,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,EAAE,EAAC,SAAP;AAAiB,qBAAY,eAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,qBAAY,aAFd;AAGE,MAAA,OAAO,EAAG,KAAKd,UAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAUC;AAAM,MAAA,EAAE,EAAC,cAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAA2B,KAAKK,cAAL,EAA3B,CAVD,CADF;AAeD;;AAtC6B;;AAyChCR,OAAO,CAACkB,SAAR,GAAoB;AAClBb,EAAAA,OAAO,EAAEV,SAAS,CAACwB,IAAV,CAAeC,UADN;AAElBd,EAAAA,UAAU,EAAEX,SAAS,CAACwB,IAAV,CAAeC;AAFT,CAApB;;AAKA,MAAMC,kBAAkB,GAAIC,QAAD,KAAe;AACxChB,EAAAA,UAAU,EAAE,MAAMgB,QAAQ,CAACzB,UAAU,EAAX;AADc,CAAf,CAA3B;;AAIA,eAAeD,OAAO,CAAC,IAAD,EAAOyB,kBAAP,CAAP,CAAkCrB,OAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { cleanState } from '../redux/actions';\nimport RankingCard from '../components/RankingCard';\nimport { loadLocalStorage } from '../localStorage';\n\nclass Ranking extends Component {\n  constructor(props) {\n    super(props);\n\n    this.btnHandler = this.btnHandler.bind(this);\n  }\n\n  btnHandler() {\n    const { history, resetState } = this.props;\n    resetState();\n    history.push('/');\n  }\n\n  displayRanking() {\n    const rankingStorage = loadLocalStorage('ranking');\n\n    return (rankingStorage\n      .sort((a, b) => b.score - a.score)\n      .map((player, i) => <RankingCard key={ i } position={i + 1} { ...player } />)\n    );\n  }\n\n  render() {\n    return (\n      <div id='ranking'>\n        <h1 id='ranking' data-testid=\"ranking-title\">Ranking</h1>\n        <button\n          type=\"button\"\n          data-testid=\"btn-go-home\"\n          onClick={ this.btnHandler }\n        >\n          Home\n        </button>\n\n       <main id='main-ranking'> { this.displayRanking() }</main>\n\n      </div>\n    );\n  }\n}\n\nRanking.propTypes = {\n  history: PropTypes.func.isRequired,\n  resetState: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  resetState: () => dispatch(cleanState()),\n});\n\nexport default connect(null, mapDispatchToProps)(Ranking);\n"]},"metadata":{},"sourceType":"module"}